<!DOCTYPE html><html lang="uk-UA"><head><script type="module" src="/goit-js-hw-06-11/pages/hw-08/hw-08-01.cc2e6597.js"></script><script type="module" src="/goit-js-hw-06-11/pages/hw-06/hw-06-10.90fb7d97.js"></script><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Task 1</title><link rel="icon shortcut" href="/goit-js-hw-06-11/favicon-book.0a5e6b07.ico" type="image/x-icon"><link rel="stylesheet" href="/goit-js-hw-06-11/index.317ae348.css"></head><body> <div class="title-link-box"> <h2>Завдання 1. Пошук країн.</h2> <a href="/goit-js-hw-06-11/pages/hw-10/hw-10.html">Повернутись до списку завдань</a> </div> <div class="task-conditions-box"> <p>Створи фронтенд частину програми пошуку даних про країну за її частковою або повною назвою.</p> <details> <summary>Переглянути умови завдання</summary> <div class="markdown theme-doc-markdown"> <h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="завдання---пошук-країн"> Завдання - пошук країн <a class="hash-link" href="#завдання---пошук-країн" title="Direct link to heading">​</a> </h2> <p> Створи фронтенд частину програми пошуку даних про країну за її частковою або повною назвою. Подивися демо-відео роботи програми. </p> <div style="width:640px;height:360px;margin-bottom:20px"> <video src="https://user-images.githubusercontent.com/17479434/131147741-7700e8c5-8744-4eea-8a8e-1c3d4635248a.mp4" style="width:100%;height:100%" preload controls></video> </div> <h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="http-запит"> HTTP-запит <a class="hash-link" href="#http-запит" title="Direct link to heading">​</a> </h3> <p> Використовуй публічний API <a href="https://restcountries.com/" target="_blank" rel="noopener noreferrer">Rest Countries v2</a> , а саме <a href="https://restcountries.com/#api-endpoints-v3-name" target="_blank" rel="noopener noreferrer"> ресурс name </a> , який повертає масив об'єктів країн, що задовольнили критерій пошуку. Додай мінімальне оформлення елементів інтерфейсу. </p> <p> Напиши функцію <code>fetchCountries(name)</code> , яка робить HTTP-запит на <a href="https://restcountries.com/#api-endpoints-v3-name" target="_blank" rel="noopener noreferrer"> ресурс name </a> і повертає проміс з масивом країн - результатом запиту. Винеси її в окремий файл <code>fetchCountries.js</code> і зроби іменований експорт. </p> <h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="фільтрація-полів"> Фільтрація полів <a class="hash-link" href="#фільтрація-полів" title="Direct link to heading">​</a> </h3> <p> У відповіді від бекенду повертаються об'єкти, велика частина властивостей яких, тобі не знадобиться. Щоб скоротити обсяг переданих даних, додай рядок параметрів запиту - таким чином цей бекенд реалізує фільтрацію полів. Ознайомся з <a href="https://restcountries.com/#filter-response" target="_blank" rel="noopener noreferrer"> документацією синтаксису фільтрів </a> . </p> <p>Тобі потрібні тільки наступні властивості:</p> <ul> <li> <code>name.official</code> - повна назва країни </li> <li> <code>capital</code> - столиця </li> <li> <code>population</code> - населення </li> <li> <code>flags.svg</code> - посилання на зображення прапора </li> <li> <code>languages</code> - масив мов </li> </ul> <h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="поле-пошуку"> Поле пошуку <a class="hash-link" href="#поле-пошуку" title="Direct link to heading">​</a> </h3> <p> Назву країни для пошуку користувач вводить у текстове поле <code>input#search-box</code> . HTTP-запити виконуються при введенні назви країни, тобто на події <code>input</code> . Але робити запит з кожним натисканням клавіші не можна, оскільки одночасно буде багато запитів і вони будуть виконуватися в непередбачуваному порядку. </p> <p> Необхідно застосувати прийом <code>Debounce</code> на обробнику події і робити HTTP-запит через <code>300мс</code> після того, як користувач перестав вводити текст. Використовуй пакет <a href="https://www.npmjs.com/package/lodash.debounce" target="_blank" rel="noopener noreferrer"> lodash.debounce </a> . </p> <p> Якщо користувач повністю очищає поле пошуку, то HTTP-запит не виконується, а розмітка списку країн або інформації про країну зникає. </p> <p> Виконай санітизацію введеного рядка методом <code>trim()</code> , це вирішить проблему, коли в полі введення тільки пробіли, або вони є на початку і в кінці рядка. </p> <h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="інтерфейс"> Інтерфейс <a class="hash-link" href="#інтерфейс" title="Direct link to heading">​</a> </h3> <p> Якщо у відповіді бекенд повернув більше ніж 10 країн, в інтерфейсі з'являється повідомлення про те, що назва повинна бути специфічнішою. Для повідомлень використовуй <a href="https://github.com/notiflix/Notiflix#readme" target="_blank" rel="noopener noreferrer"> бібліотеку notiflix </a> і виводь такий рядок <code>"Too many matches found. Please enter a more specific name."</code> . </p> <p> <img loading="lazy" src="https://raw.githubusercontent.com/goitacademy/javascript-homework/main/v2/10/preview/too-many-matches.png" alt="Too many matches alert" class="img_ev3q medium-zoom-image"> </p> <p> Якщо бекенд повернув від 2-х до 10-и країн, під тестовим полем відображається список знайдених країн. Кожен елемент списку складається з прапора та назви країни. </p> <p> <img loading="lazy" src="https://raw.githubusercontent.com/goitacademy/javascript-homework/main/v2/10/preview/country-list.png" alt="Country list UI" class="img_ev3q medium-zoom-image"> </p> <p> Якщо результат запиту - це масив з однією країною, в інтерфейсі відображається розмітка картки з даними про країну: прапор, назва, столиця, населення і мови. </p> <p> <img loading="lazy" src="https://raw.githubusercontent.com/goitacademy/javascript-homework/main/v2/10/preview/country-info.png" alt="Country info UI" class="img_ev3q medium-zoom-image"> </p> <div class="admonition_LlT9 alert alert--warning theme-admonition theme-admonition-caution"> <div class="admonitionContent_S0QG"> <p> Достатньо, щоб застосунок працював для більшості країн. Деякі країни, як-от <code>Sudan</code> , можуть створювати проблеми, оскільки назва країни є частиною назви іншої країни - <code>South Sudan</code> . Не потрібно турбуватися про ці винятки. </p> </div> </div> <h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="обробка-помилки"> Обробка помилки <a class="hash-link" href="#обробка-помилки" title="Direct link to heading">​</a> </h3> <p> Якщо користувач ввів назву країни, якої не існує, бекенд поверне не порожній масив, а помилку зі статус кодом <code>404</code> - не знайдено. Якщо це не обробити, то користувач ніколи не дізнається про те, що пошук не дав результатів. Додай повідомлення <code>"Oops, there is no country with that name"</code> у разі помилки, використовуючи <a href="https://github.com/notiflix/Notiflix#readme" target="_blank" rel="noopener noreferrer"> бібліотеку notiflix </a> . </p> <p> <img loading="lazy" src="https://raw.githubusercontent.com/goitacademy/javascript-homework/main/v2/10/preview/error-alert.png" alt="Error alert" class="img_ev3q medium-zoom-image"> </p> <div class="admonition_LlT9 alert alert--warning theme-admonition theme-admonition-caution"> <div class="admonitionContent_S0QG"> <p> Не забувай про те, що <code>fetch</code> не вважає 404 помилкою, тому необхідно явно відхилити проміс, щоб можна було зловити і обробити помилку. </p> </div> </div> </div> </details> </div> <input type="text" id="search-box"> <ul class="country-list list"></ul> <div class="country-info"></div> <script type="module" src="/goit-js-hw-06-11/pages/hw-10/hw-10-01.dbf9b45f.js"></script> </body></html>